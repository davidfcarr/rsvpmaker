(()=>{"use strict";var e,r={910(e,r,o){const t=window.wp.blocks,a=window.wp.i18n,n=(window.React,window.wp.blockEditor),s=window.wp.apiFetch;var l=o.n(s);const i=window.ReactJSXRuntime,{Panel:c,PanelBody:p,SelectControl:u,RadioControl:v,TextControl:d,ColorPalette:m,FontSizePicker:h}=wp.components,f=JSON.parse('{"UU":"rsvpmaker/upcoming-by-json"}');(0,t.registerBlockType)(f.UU,{edit:function(e){const{attributes:{limit:r,url:o,morelink:t},setAttributes:s,isSelected:u}=e;let v="";const m=[{label:(0,a.__)("Choose event"),value:""},{label:(0,a.__)("Next event"),value:"next"},{label:(0,a.__)("Next event - RSVP on"),value:"nextrsvp"}];l()({path:"rsvpmaker/v1/future"}).then(e=>{Array.isArray(e)?e.map(function(e){if(e.ID){var r=e.date?e.post_title+" - "+e.date:e.post_title;m.push({value:e.ID,label:r})}}):Object.values(e).map(function(e){if(e.ID){var r=e.date?e.post_title+" - "+e.date:e.post_title;m.push({value:e.ID,label:r})}})}).catch(e=>{console.log(e)});const h=[{value:"",label:"None selected (optional)"}];return l()({path:"rsvpmaker/v1/types"}).then(e=>{Array.isArray(e)?e.map(function(e){e.slug&&e.name&&h.push({value:e.slug,label:e.name})}):Object.values(e).map(function(e){e.slug&&e.name&&h.push({value:e.slug,label:e.name})})}).catch(e=>{console.log(e)}),m&&m.length>2&&(v="API urls for  this site:\n"+window.location.protocol+"//"+window.location.hostname+"/wp-json/rsvpmaker/v1/future\n",h.forEach(function(e,r){r>0&&(v=v.concat(rsvpmaker.json_url+"type/"+e.value+"\n"))})),(0,i.jsxs)("div",{...(0,n.useBlockProps)({className:e.className}),children:[(0,i.jsxs)("p",{class:"dashicons-before dashicons-calendar-alt",children:[(0,i.jsx)("strong",{children:"RSVPMaker "}),": Add an Events Listing that dynamically loads via JSON API endpoint"]}),(0,i.jsx)(n.InspectorControls,{children:(0,i.jsx)(c,{children:(0,i.jsxs)(p,{children:[(0,i.jsx)(d,{label:(0,a.__)("JSON API url","rsvpmaker"),value:o,onChange:e=>s({url:e})}),(0,i.jsx)(d,{label:(0,a.__)("Limit","rsvpmaker"),value:r,help:(0,a.__)("For no limit, enter 0"),onChange:e=>s({limit:e})}),(0,i.jsx)(d,{label:(0,a.__)("Link URL for more results (optional)","rsvpmaker"),value:t,onChange:e=>s({morelink:e})}),(0,i.jsx)("p",{children:(0,i.jsxs)("em",{children:["Enter JSON API url for this site or another in the format:",(0,i.jsx)("br",{}),"https://rsvpmaker.com/wp-json/rsvpmaker/v1/future",(0,i.jsx)("br",{}),"or",(0,i.jsx)("br",{}),"https://rsvpmaker.com/wp-json/rsvpmaker/v1/type/featured"]})}),(0,i.jsx)("pre",{children:v})]})})},"eventlistinginspector")]})},save:function(){return null},transforms:{to:[{type:"block",blocks:["core/query"],transform:e=>{const r=e.calendar&&parseInt(e.calendar)?[["rsvpmaker/calendar",e],["core/post-template",{layout:{type:"grid",columnCount:2}},[["core/post-title",{isLink:!0}],["core/post-featured-image"],["rsvpmaker/loop-blocks"],["core/read-more",{content:"Read More >>"}]]],["core/query-pagination"],["core/query-no-results",{},[["core/paragraph",{content:"No events found."}]]]]:[["core/post-template",{layout:{type:"grid",columnCount:2}},[["core/post-title",{isLink:!0}],["core/post-featured-image"],["rsvpmaker/loop-blocks"],["core/read-more",{content:"Read More >>"}]]],["core/query-pagination"],["core/query-no-results",{},[["core/paragraph",{content:"No events found."}]]]],o=(0,t.createBlocksFromInnerBlocksTemplate)(r);return(0,t.createBlock)("core/query",{queryId:0,query:{perPage:20,pages:0,offset:0,postType:"rsvpmaker",order:"asc",author:"",search:"",exclude:[],sticky:"",inherit:!1},namespace:"rsvpmaker/rsvpmaker-loop"},o)}}]}})}},o={};function t(e){var a=o[e];if(void 0!==a)return a.exports;var n=o[e]={exports:{}};return r[e](n,n.exports,t),n.exports}t.m=r,e=[],t.O=(r,o,a,n)=>{if(!o){var s=1/0;for(p=0;p<e.length;p++){for(var[o,a,n]=e[p],l=!0,i=0;i<o.length;i++)(!1&n||s>=n)&&Object.keys(t.O).every(e=>t.O[e](o[i]))?o.splice(i--,1):(l=!1,n<s&&(s=n));if(l){e.splice(p--,1);var c=a();void 0!==c&&(r=c)}}return r}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[o,a,n]},t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={117:0,8569:0};t.O.j=r=>0===e[r];var r=(r,o)=>{var a,n,[s,l,i]=o,c=0;if(s.some(r=>0!==e[r])){for(a in l)t.o(l,a)&&(t.m[a]=l[a]);if(i)var p=i(t)}for(r&&r(o);c<s.length;c++)n=s[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(p)},o=globalThis.webpackChunkadmin=globalThis.webpackChunkadmin||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})();var a=t.O(void 0,[8569],()=>t(910));a=t.O(a)})();
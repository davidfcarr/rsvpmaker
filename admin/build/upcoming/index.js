(()=>{"use strict";var e,a={514:(e,a,l)=>{const t=window.wp.blocks,r=window.React,o=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.apiFetch;var c=l.n(s);const u=window.wp.url,{Component:p,Fragment:i}=wp.element,{Panel:m,PanelBody:v,SelectControl:d,RadioControl:g,TextControl:b,ColorPalette:_,FontSizePicker:h}=wp.components,y=JSON.parse('{"UU":"rsvpmaker/upcoming"}');(0,t.registerBlockType)(y.UU,{edit:function(e){const{attributes:a}=e,[l,t]=(0,r.useState)([]),[s,g]=(0,r.useState)([]),[y,k]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const e=[{value:"",label:"None selected (optional)"}];c()({path:"rsvpmaker/v1/types"}).then((a=>{Array.isArray(a)?a.map((function(a){a.slug&&a.name&&e.push({value:a.slug,label:a.name})})):(Object.values(a).map((function(a){a.slug&&a.name&&e.push({value:a.slug,label:a.name})})),console.log(type.slug),console.log(typeof type.slug),console.log(type.name),console.log(typeof type.name))})).catch((e=>{console.log(e)})),t(e);const a=[{value:"",label:"Any"}];c()({path:"rsvpmaker/v1/authors"}).then((e=>{Array.isArray(e)?e.map((function(e){e.ID&&e.name&&a.push({value:e.ID,label:e.name})})):(e=Object.values(e)).map((function(e){e.ID&&e.name&&a.push({value:e.ID,label:e.name})}))})).catch((e=>{console.log(e)})),g(a)}),[]),(0,r.useEffect)((()=>{c()({path:(0,u.addQueryArgs)("/rsvpmaker/v1/upcoming_preview/",a)}).then((e=>{e.calendar&&k(e.calendar)}))}),[a]),(0,r.createElement)(i,null,(0,r.createElement)("div",{...(0,n.useBlockProps)()},(0,r.createElement)(class extends p{render(){const{attributes:{calendar:e,excerpt:a,days:t,posts_per_page:c,hideauthor:u,no_events:p,nav:i,type:g,exclude_type:y,author:k,itemcolor:f,itembg:E,itemfontsize:C},setAttributes:w,isSelected:x}=this.props,S=[{name:(0,o.__)("Small"),slug:"small",size:10},{name:(0,o.__)("Medium"),slug:"medium",size:12},{name:(0,o.__)("Large"),slug:"large",size:13},{name:(0,o.__)("Extra Large"),slug:"xlarge",size:14}];return console.log("type",g),console.log("types",l),(0,r.createElement)("div",null,(0,r.createElement)(n.InspectorControls,{key:"upcominginspector"},(0,r.createElement)(v,{title:(0,o.__)("RSVPMaker Upcoming Options","rsvpmaker")},(0,r.createElement)("form",null,(0,r.createElement)(d,{label:(0,o.__)("Display Calendar","rsvpmaker"),value:e,options:[{value:1,label:(0,o.__)("Yes - Calendar plus events listing")},{value:0,label:(0,o.__)("No - Events listing only")},{value:2,label:(0,o.__)("Calendar only")}],onChange:e=>{console.log("calendar choice "+typeof e),console.log(e),w({calendar:e})}}),(0,r.createElement)(d,{label:(0,o.__)("Format","rsvpmaker"),value:a,options:[{value:0,label:(0,o.__)("Full Text")},{value:1,label:(0,o.__)("Excerpt")}],onChange:e=>{w({excerpt:e})}}),(0,r.createElement)(d,{label:(0,o.__)("Events Per Page","rsvpmaker"),value:c,options:[{value:5,label:5},{value:10,label:10},{value:15,label:15},{value:20,label:20},{value:25,label:25},{value:30,label:30},{value:35,label:35},{value:40,label:40},{value:45,label:45},{value:50,label:50},{value:"-1",label:"No limit"}],onChange:e=>{w({posts_per_page:e})}}),(0,r.createElement)(d,{label:(0,o.__)("Date Range","rsvpmaker"),value:t,options:[{value:5,label:5},{value:30,label:"30 Days"},{value:60,label:"60 Days"},{value:90,label:"90 Days"},{value:180,label:"180 Days"},{value:366,label:"1 Year"}],onChange:e=>{w({days:e})}}),(0,r.createElement)(d,{label:(0,o.__)("Event Type","rsvpmaker"),selected:g,value:g,options:l,onChange:e=>{w({type:e})}}),(0,r.createElement)(d,{label:(0,o.__)("EXCLUDE Event Type","rsvpmaker"),selected:y,value:y,options:l,onChange:e=>{w({exclude_type:e})}}),(0,r.createElement)(d,{label:(0,o.__)("Author","rsvpmaker"),value:k,options:s,onChange:e=>{w({author:e})}}),(0,r.createElement)(d,{label:(0,o.__)("Calendar Navigation","rsvpmaker"),value:i,options:[{value:"top",label:(0,o.__)("Top")},{value:"bottom",label:(0,o.__)("Bottom")},{value:"both",label:(0,o.__)("Both")}],onChange:e=>{w({nav:e})}}),(0,r.createElement)(d,{label:(0,o.__)("Show Event Author","rsvpmaker"),value:u,options:[{label:"No",value:!0},{label:"Yes",value:!1}],onChange:e=>{w({hideauthor:e})}}),(0,r.createElement)(b,{label:(0,o.__)("Text to show for no events listed","rsvpmaker"),value:p,onChange:e=>{w({no_events:e})}}))),(0,r.createElement)(m,{header:"Calendar Colors"},(0,r.createElement)(v,{title:(0,o.__)("Calendar Item Text Color","rsvpmaker")},(0,r.createElement)(_,{label:(0,o.__)("Calendar item text color","rsvpmaker"),colors:wp.data.select("core/editor").getEditorSettings().colors,value:f,defaultValue:f,onChange:e=>{w({itemcolor:e})}})),(0,r.createElement)(v,{title:(0,o.__)("Calendar Item Background Color","rsvpmaker")},(0,r.createElement)(_,{colors:wp.data.select("core/editor").getEditorSettings().colors,label:(0,o.__)("Calendar item background color","rsvpmaker"),value:E,defaultValue:E,onChange:e=>{w({itembg:e})}}),(0,r.createElement)("div",null,(0,r.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,r.createElement)("path",{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"}))," ",(0,r.createElement)("em",null,"See the styles tab for the overall text and background color settings.")))),(0,r.createElement)(m,{header:"Calendar Fonts"},(0,r.createElement)(v,{title:(0,o.__)("Calendar Item Font Size","rsvpmaker")},(0,r.createElement)(h,{label:(0,o.__)("Calendar item text size","rsvpmaker"),value:C,fontSizes:S,fallbackFontSize:10,onChange:e=>{w({itemfontsize:e})}})))))}},{...e}),y&&(0,r.createElement)("div",{dangerouslySetInnerHTML:{__html:y}}),!y&&(0,r.createElement)("p",null,"RSVPMaker Upcoming loading ...")))},save:function(){return null},transforms:{to:[{type:"block",blocks:["core/query"],transform:e=>{const a=e.calendar&&parseInt(e.calendar)?[["rsvpmaker/calendar",e],["core/post-template",{layout:{type:"grid",columnCount:2}},[["core/post-title",{isLink:!0}],["core/post-featured-image"],["rsvpmaker/loop-blocks"],["core/read-more",{content:"Read More >>"}]]],["core/query-pagination"],["core/query-no-results",{},[["core/paragraph",{content:"No events found."}]]]]:[["core/post-template",{layout:{type:"grid",columnCount:2}},[["core/post-title",{isLink:!0}],["core/post-featured-image"],["rsvpmaker/loop-blocks"],["core/read-more",{content:"Read More >>"}]]],["core/query-pagination"],["core/query-no-results",{},[["core/paragraph",{content:"No events found."}]]]],l=(0,t.createBlocksFromInnerBlocksTemplate)(a);return(0,t.createBlock)("core/query",{queryId:0,query:{perPage:20,pages:0,offset:0,postType:"rsvpmaker",order:"asc",author:"",search:"",exclude:[],sticky:"",inherit:!1},namespace:"rsvpmaker/rsvpmaker-loop"},l)}}]}})}},l={};function t(e){var r=l[e];if(void 0!==r)return r.exports;var o=l[e]={exports:{}};return a[e](o,o.exports,t),o.exports}t.m=a,e=[],t.O=(a,l,r,o)=>{if(!l){var n=1/0;for(p=0;p<e.length;p++){l=e[p][0],r=e[p][1],o=e[p][2];for(var s=!0,c=0;c<l.length;c++)(!1&o||n>=o)&&Object.keys(t.O).every((e=>t.O[e](l[c])))?l.splice(c--,1):(s=!1,o<n&&(n=o));if(s){e.splice(p--,1);var u=r();void 0!==u&&(a=u)}}return a}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[l,r,o]},t.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},t.d=(e,a)=>{for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={8:0,664:0};t.O.j=a=>0===e[a];var a=(a,l)=>{var r,o,n=l[0],s=l[1],c=l[2],u=0;if(n.some((a=>0!==e[a]))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(c)var p=c(t)}for(a&&a(l);u<n.length;u++)o=n[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(p)},l=self.webpackChunkadmin=self.webpackChunkadmin||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))})();var r=t.O(void 0,[664],(()=>t(514)));r=t.O(r)})();
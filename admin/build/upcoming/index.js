(()=>{"use strict";var e,a={230(e,a,l){const o=window.wp.blocks,r=window.wp.i18n,t=window.React,n=window.wp.blockEditor,s=window.wp.apiFetch;var i=l.n(s);const c=window.wp.url,u=window.ReactJSXRuntime,{Component:p,Fragment:v}=wp.element,{Panel:d,PanelBody:m,SelectControl:g,RadioControl:h,TextControl:b,ColorPalette:_,FontSizePicker:y}=wp.components,k=JSON.parse('{"UU":"rsvpmaker/upcoming"}');(0,o.registerBlockType)(k.UU,{edit:function(e){const{attributes:a}=e,[l,o]=(0,t.useState)([]),[s,h]=(0,t.useState)([]),[k,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=[{value:"",label:"None selected (optional)"}];i()({path:"rsvpmaker/v1/types"}).then(a=>{Array.isArray(a)?a.map(function(a){a.slug&&a.name&&e.push({value:a.slug,label:a.name})}):(Object.values(a).map(function(a){a.slug&&a.name&&e.push({value:a.slug,label:a.name})}),console.log(type.slug),console.log(typeof type.slug),console.log(type.name),console.log(typeof type.name))}).catch(e=>{console.log(e)}),o(e);const a=[{value:"",label:"Any"}];i()({path:"rsvpmaker/v1/authors"}).then(e=>{Array.isArray(e)?e.map(function(e){e.ID&&e.name&&a.push({value:e.ID,label:e.name})}):(e=Object.values(e)).map(function(e){e.ID&&e.name&&a.push({value:e.ID,label:e.name})})}).catch(e=>{console.log(e)}),h(a)},[]),(0,t.useEffect)(()=>{i()({path:(0,c.addQueryArgs)("/rsvpmaker/v1/upcoming_preview/",a)}).then(e=>{e.calendar&&x(e.calendar)})},[a]);class f extends p{render(){const{attributes:{calendar:e,excerpt:a,days:o,posts_per_page:t,hideauthor:i,no_events:c,nav:p,type:v,exclude_type:h,author:k,itemcolor:x,itembg:f,itemfontsize:C},setAttributes:j,isSelected:w}=this.props,S=[{name:(0,r.__)("Small"),slug:"small",size:10},{name:(0,r.__)("Medium"),slug:"medium",size:12},{name:(0,r.__)("Large"),slug:"large",size:13},{name:(0,r.__)("Extra Large"),slug:"xlarge",size:14}];return console.log("type",v),console.log("types",l),(0,u.jsx)("div",{children:(0,u.jsxs)(n.InspectorControls,{children:[(0,u.jsx)(m,{title:(0,r.__)("RSVPMaker Upcoming Options","rsvpmaker"),children:(0,u.jsxs)("form",{children:[(0,u.jsx)(g,{label:(0,r.__)("Display Calendar","rsvpmaker"),value:e,options:[{value:1,label:(0,r.__)("Yes - Calendar plus events listing")},{value:0,label:(0,r.__)("No - Events listing only")},{value:2,label:(0,r.__)("Calendar only")}],onChange:e=>{console.log("calendar choice "+typeof e),console.log(e),j({calendar:e})}}),(0,u.jsx)(g,{label:(0,r.__)("Format","rsvpmaker"),value:a,options:[{value:0,label:(0,r.__)("Full Text")},{value:1,label:(0,r.__)("Excerpt")}],onChange:e=>{j({excerpt:e})}}),(0,u.jsx)(g,{label:(0,r.__)("Events Per Page","rsvpmaker"),value:t,options:[{value:5,label:5},{value:10,label:10},{value:15,label:15},{value:20,label:20},{value:25,label:25},{value:30,label:30},{value:35,label:35},{value:40,label:40},{value:45,label:45},{value:50,label:50},{value:"-1",label:"No limit"}],onChange:e=>{j({posts_per_page:e})}}),(0,u.jsx)(g,{label:(0,r.__)("Date Range","rsvpmaker"),value:o,options:[{value:5,label:5},{value:30,label:"30 Days"},{value:60,label:"60 Days"},{value:90,label:"90 Days"},{value:180,label:"180 Days"},{value:366,label:"1 Year"}],onChange:e=>{j({days:e})}}),(0,u.jsx)(g,{label:(0,r.__)("Event Type","rsvpmaker"),selected:v,value:v,options:l,onChange:e=>{j({type:e})}}),(0,u.jsx)(g,{label:(0,r.__)("EXCLUDE Event Type","rsvpmaker"),selected:h,value:h,options:l,onChange:e=>{j({exclude_type:e})}}),(0,u.jsx)(g,{label:(0,r.__)("Author","rsvpmaker"),value:k,options:s,onChange:e=>{j({author:e})}}),(0,u.jsx)(g,{label:(0,r.__)("Calendar Navigation","rsvpmaker"),value:p,options:[{value:"top",label:(0,r.__)("Top")},{value:"bottom",label:(0,r.__)("Bottom")},{value:"both",label:(0,r.__)("Both")}],onChange:e=>{j({nav:e})}}),(0,u.jsx)(g,{label:(0,r.__)("Show Event Author","rsvpmaker"),value:i,options:[{label:"No",value:!0},{label:"Yes",value:!1}],onChange:e=>{j({hideauthor:e})}}),(0,u.jsx)(b,{label:(0,r.__)("Text to show for no events listed","rsvpmaker"),value:c,onChange:e=>{j({no_events:e})}})]})}),(0,u.jsxs)(d,{header:"Calendar Colors",children:[(0,u.jsx)(m,{title:(0,r.__)("Calendar Item Text Color","rsvpmaker"),children:(0,u.jsx)(_,{label:(0,r.__)("Calendar item text color","rsvpmaker"),colors:wp.data.select("core/editor").getEditorSettings().colors,value:x,defaultValue:x,onChange:e=>{j({itemcolor:e})}})}),(0,u.jsxs)(m,{title:(0,r.__)("Calendar Item Background Color","rsvpmaker"),children:[(0,u.jsx)(_,{colors:wp.data.select("core/editor").getEditorSettings().colors,label:(0,r.__)("Calendar item background color","rsvpmaker"),value:f,defaultValue:f,onChange:e=>{j({itembg:e})}}),(0,u.jsxs)("div",{children:[(0,u.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,u.jsx)("path",{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"})})," ",(0,u.jsx)("em",{children:"See the styles tab for the overall text and background color settings."})]})]})]}),(0,u.jsx)(d,{header:"Calendar Fonts",children:(0,u.jsx)(m,{title:(0,r.__)("Calendar Item Font Size","rsvpmaker"),children:(0,u.jsx)(y,{label:(0,r.__)("Calendar item text size","rsvpmaker"),value:C,fontSizes:S,fallbackFontSize:10,onChange:e=>{j({itemfontsize:e})}})})})]},"upcominginspector")})}}return(0,u.jsx)(v,{children:(0,u.jsxs)("div",{...(0,n.useBlockProps)(),children:[(0,u.jsx)(f,{...e}),k&&(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:k}}),!k&&(0,u.jsx)("p",{children:"RSVPMaker Upcoming loading ..."})]})})},save:function(){return null},transforms:{to:[{type:"block",blocks:["core/query"],transform:e=>{const a=e.calendar&&parseInt(e.calendar)?[["rsvpmaker/calendar",e],["core/post-template",{layout:{type:"grid",columnCount:2}},[["core/post-title",{isLink:!0}],["core/post-featured-image"],["rsvpmaker/loop-blocks"],["core/read-more",{content:"Read More >>"}]]],["core/query-pagination"],["core/query-no-results",{},[["core/paragraph",{content:"No events found."}]]]]:[["core/post-template",{layout:{type:"grid",columnCount:2}},[["core/post-title",{isLink:!0}],["core/post-featured-image"],["rsvpmaker/loop-blocks"],["core/read-more",{content:"Read More >>"}]]],["core/query-pagination"],["core/query-no-results",{},[["core/paragraph",{content:"No events found."}]]]],l=(0,o.createBlocksFromInnerBlocksTemplate)(a);return(0,o.createBlock)("core/query",{queryId:0,query:{perPage:20,pages:0,offset:0,postType:"rsvpmaker",order:"asc",author:"",search:"",exclude:[],sticky:"",inherit:!1},namespace:"rsvpmaker/rsvpmaker-loop"},l)}}]}})}},l={};function o(e){var r=l[e];if(void 0!==r)return r.exports;var t=l[e]={exports:{}};return a[e](t,t.exports,o),t.exports}o.m=a,e=[],o.O=(a,l,r,t)=>{if(!l){var n=1/0;for(u=0;u<e.length;u++){for(var[l,r,t]=e[u],s=!0,i=0;i<l.length;i++)(!1&t||n>=t)&&Object.keys(o.O).every(e=>o.O[e](l[i]))?l.splice(i--,1):(s=!1,t<n&&(n=t));if(s){e.splice(u--,1);var c=r();void 0!==c&&(a=c)}}return a}t=t||0;for(var u=e.length;u>0&&e[u-1][2]>t;u--)e[u]=e[u-1];e[u]=[l,r,t]},o.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return o.d(a,{a}),a},o.d=(e,a)=>{for(var l in a)o.o(a,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})},o.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={1008:0,8664:0};o.O.j=a=>0===e[a];var a=(a,l)=>{var r,t,[n,s,i]=l,c=0;if(n.some(a=>0!==e[a])){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(i)var u=i(o)}for(a&&a(l);c<n.length;c++)t=n[c],o.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return o.O(u)},l=globalThis.webpackChunkadmin=globalThis.webpackChunkadmin||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))})();var r=o.O(void 0,[8664],()=>o(230));r=o.O(r)})();
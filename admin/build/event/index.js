(()=>{"use strict";var e,a={60(e,a,t){const l=window.wp.blocks,o=window.wp.apiFetch;var r=t.n(o);const n=window.wp.url,s=window.React,u=window.ReactJSXRuntime,{__}=wp.i18n,{InspectorControls:p,useBlockProps:c}=wp.blockEditor,{SelectControl:v}=wp.components,i=JSON.parse('{"UU":"rsvpmaker/event"}');(0,l.registerBlockType)(i.UU,{edit:function(e){const a=c(),{attributes:{post_id:t,type:l,one_hideauthor:o,one_format:i,hide_past:d},attributes:h,setAttributes:b,isSelected:m}=e,[y,f]=(0,s.useState)(null);""==t&&b({post_id:"next"}),r()({path:(0,n.addQueryArgs)("/rsvpmaker/v1/preview/one",h)}).then(e=>{console.log("downloaded event html",e),f(e)});const k=[{label:__("Choose event"),value:""},{label:__("Next event"),value:"next"},{label:__("Next event - RSVP on"),value:"nextrsvp"}];r()({path:"rsvpmaker/v1/future"}).then(e=>{Array.isArray(e)?e.map(function(e){if(e.ID){var a=e.date?e.post_title+" - "+e.date:e.post_title;k.push({value:e.ID,label:a})}}):Object.values(e).map(function(e){if(e.ID){var a=e.date?e.post_title+" - "+e.date:e.post_title;k.push({value:e.ID,label:a})}})}).catch(e=>{console.log(e)});const g=[{value:"",label:"None selected (optional)"}];r()({path:"rsvpmaker/v1/types"}).then(e=>{Array.isArray(e)?e.map(function(e){e.slug&&e.name&&g.push({value:e.slug,label:e.name})}):Object.values(e).map(function(e){e.slug&&e.name&&g.push({value:e.slug,label:e.name})})}).catch(e=>{console.log(e)});const w=[{value:"",label:"Any"}];return r()({path:"rsvpmaker/v1/authors"}).then(e=>{Array.isArray(e)?e.map(function(e){e.ID&&e.name&&w.push({value:e.ID,label:e.name})}):(e=Object.values(e)).map(function(e){e.ID&&e.name&&w.push({value:e.ID,label:e.name})})}).catch(e=>{console.log(e)}),(0,u.jsxs)("div",{...a,children:[(0,u.jsxs)(p,{children:[(0,u.jsx)(v,{label:__("Select Post","rsvpmaker"),value:t,options:k,onChange:e=>{b({post_id:e})}}),(0,u.jsx)(v,{label:__("Format","rsvpmaker"),value:i,options:[{label:"Event with Form",value:""},{label:"Event with Button",value:"button"},{label:"Event Excerpt with Button",value:"excerpt"},{label:"Headline, Date and Icons, Button",value:"headline_date_button"},{label:"Button Only",value:"button_only"},{label:"Form Only",value:"form"},{label:"Compact (Headline/Date/Button)",value:"compact"},{label:"Dates Only",value:"embed_dateblock"}],onChange:e=>{b({one_format:e})}}),(0,u.jsx)(v,{label:__("Hide After","rsvpmaker"),value:d,options:[{label:"Not Set",value:""},{label:"1 hour",value:"1"},{label:"2 hours",value:"2"},{label:"3 hours",value:"3"},{label:"4 hours",value:"4"},{label:"5 hours",value:"5"},{label:"6 hours",value:"6"},{label:"7 hours",value:"7"},{label:"8 hours",value:"8"},{label:"12 hours",value:"12"},{label:"18 hours",value:"18"},{label:"24 hours",value:"24"},{label:"2 days",value:"48"},{label:"3 days",value:"72"}],onChange:e=>{b({hide_past:e})}}),(0,u.jsx)(v,{label:__("Event Type","rsvpmaker"),value:l,options:g,onChange:e=>{b({type:e})}}),(0,u.jsx)(v,{label:__("Show Author","rsvpmaker"),value:o,options:[{label:"No",value:"1"},{label:"Yes",value:"0"}],onChange:e=>{b({one_hideauthor:e})}})]},"eventinspector"),y&&(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:y}}),!y&&(0,u.jsx)("div",{children:(0,u.jsx)("p",{children:"Loading ..."})})]})},save:function(){return null},transforms:{to:[{type:"block",blocks:["core/query"],transform:e=>{const a=e.calendar&&parseInt(e.calendar)?[["rsvpmaker/calendar",e],["core/post-template",{layout:{type:"grid",columnCount:2}},[["core/post-title",{isLink:!0}],["core/post-featured-image"],["rsvpmaker/loop-blocks"],["core/read-more",{content:"Read More >>"}]]],["core/query-pagination"],["core/query-no-results",{},[["core/paragraph",{content:"No events found."}]]]]:[["core/post-template",{layout:{type:"grid",columnCount:2}},[["core/post-title",{isLink:!0}],["core/post-featured-image"],["rsvpmaker/loop-blocks"],["core/read-more",{content:"Read More >>"}]]],["core/query-pagination"],["core/query-no-results",{},[["core/paragraph",{content:"No events found."}]]]],t=(0,l.createBlocksFromInnerBlocksTemplate)(a);return(0,l.createBlock)("core/query",{queryId:0,query:{perPage:20,pages:0,offset:0,postType:"rsvpmaker",order:"asc",author:"",search:"",exclude:[],sticky:"",inherit:!1},namespace:"rsvpmaker/rsvpmaker-loop"},t)}}]}})}},t={};function l(e){var o=t[e];if(void 0!==o)return o.exports;var r=t[e]={exports:{}};return a[e](r,r.exports,l),r.exports}l.m=a,e=[],l.O=(a,t,o,r)=>{if(!t){var n=1/0;for(c=0;c<e.length;c++){for(var[t,o,r]=e[c],s=!0,u=0;u<t.length;u++)(!1&r||n>=r)&&Object.keys(l.O).every(e=>l.O[e](t[u]))?t.splice(u--,1):(s=!1,r<n&&(n=r));if(s){e.splice(c--,1);var p=o();void 0!==p&&(a=p)}}return a}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[t,o,r]},l.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return l.d(a,{a}),a},l.d=(e,a)=>{for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={7188:0,44:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var o,r,[n,s,u]=t,p=0;if(n.some(a=>0!==e[a])){for(o in s)l.o(s,o)&&(l.m[o]=s[o]);if(u)var c=u(l)}for(a&&a(t);p<n.length;p++)r=n[p],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},t=globalThis.webpackChunkadmin=globalThis.webpackChunkadmin||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var o=l.O(void 0,[44],()=>l(60));o=l.O(o)})();